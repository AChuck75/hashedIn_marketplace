<div class="dashboard-container">
  <h2>My Products</h2>

  <button (click)="openDialog()" style="margin-bottom: 16px;">
    <h2>Add Product</h2>
  </button>

  <div class="product-grid" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 16px;">
    <div *ngIf="products.length === 0" style="grid-column: 1 / -1; text-align: center; color: #888;">
      No products found.
    </div>
    <app-product-card 
      *ngFor="let product of products" 
      [product]="product"
      (delete)="onProductDeleted($event)"
      ></app-product-card>
  </div>

  <div *ngIf="dialogOpen" class="dialog-backdrop">
    <div class="dialog-box">
      <h3>Add Product</h3>
      <form #productForm="ngForm" (ngSubmit)="addProduct()">
        <input type="text" placeholder="Name" [(ngModel)]="newProduct.name" name="name" required class="product-input" />
        <textarea placeholder="Description" [(ngModel)]="newProduct.description" name="description" class="product-input"></textarea>
        <input type="number" placeholder="Price" [(ngModel)]="newProduct.price" name="price" required class="product-input" />
        <input type="text" placeholder="Image URL" [(ngModel)]="newProduct.image" name="image" required class="product-input" />
        <select
          [(ngModel)]="newProduct.category"
          name="category"
          required
          class="product-input"
        >
          <option value="" disabled selected>Select category</option>
          <option value="ELECTRONICS">Electronics</option>
          <option value="BOOKS">Books</option>
          <option value="FASHION">Fashion</option>
          <option value="TOYS">Toys</option>
        </select>
        <div style="margin-top: 16px;">
          <button type="submit" [disabled]="!productForm.form.valid">Add</button>
          <button type="button" (click)="closeDialog()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>
